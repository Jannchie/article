这个视频的其实并不是什么教程，面向不会python甚至不会变成的人。短短几分钟的视频并不能教会你Python。我只是想用这个视频告诉大家，编程其实很简单。我不需要你写任何代码，我的目标是让你能看懂它。在我看来，看懂距离会写其实只有几步之遥。

## 做计算题

编程可以让计算机代替我们解决问题，最简单的问题描述形式就是数学题。我们先来看一个土味数学题。

> 想一个数字,用它加上52.8,再乘以5,然后减去3.9343,再除以0.5,最后再减去这个数字的10倍，求出的结果会很浪漫。

虽然是小学数学题，但是我比较菜，要算出答案可能要用草稿纸。我想让计算机代替我来完成这件事。

```py
x = -1
y = x + 52.8
y = y * 5
y = y - 3.9343
y = y * 2
y = y - x * 10
```

我们一行一行来看吧，首先想一个数，这个数就是47，我们用一个变量来保存它，这个变量的名字叫做x。我们把x加上52.8，结果保存在y这个变量里，然后再把y乘以5，保存在自己里……天哪真的要解释这个吗？我觉得，不要用脑子，用心去感受，你也知道上述这些代码在做些什么。

上面这几行代码运行完之后，`y`这个变量里存的就是这个问题的结果。答案是520.1314。

## 函数

下面提问：大家觉得这个程序复杂吗？

这不是一个开放性的问题，标准答案是：复杂。

就，虽然我刚才说编程很简单，但是这一坨代码是真的很复杂，什么叫复杂？就是凭空写不出来。这个52.8是什么东西，3.9343又是啥？这种数值有一种中二的官方名字，叫做魔法值，指完全就是凭空得来的数。

于是大部分编程语言都有函数这种东西。我们可以改造上面的代码，定义下面这样一个函数：

``` py
def love_question(x):
  y = x + 52.8
  y = y * 5
  y = y - 3.9343
  y = y * 2
  y = y - x * 10
  return y
```

`def`是一个`关键字`，代表定义。`love_question`是这个函数的`函数名`，括号里面的是`参数`。`return`后面的内容是返回值。

确实定义函数会让代码看上去变得复杂， 但也看上去更加牛逼了。并且最amazing的是，我们在后续的程序里，如果想要计算这个问题，我们可以直接这么写：

``` py
love_question(1)
love_question(2)
love_question(3)
```

分别代入-1，0和1，都能进行上述的计算，并得到520.1314。

如果你不是程序员，你可能不是很能接受这种写法，但我觉得只要多看几个例子，就能理解这种思想：

``` python
def f(x, k, b):
  return k * x + b

a = f(3, 2, 1)
```

第一个例子，上面这坨代码，先是定义了一个名字叫f的函数。然后`a = f(3, 2, 1)`，那么`a`的值为`2 * 3 + 1`也就是`7`。

``` python
def get_fans_by_mid(mid):
  '''
  根据mid获取粉丝数
  '''
  import requests
  res = requests.get(f"http://api.bilibili.com/x/web-interface/card?mid={mid}")
  return res.json()['data']['follower']

fans = get_fans_by_mid(1850091)
```

第二个例子，定义了一个函数。也许你看不懂里面是怎么实现的，但使用者，也能通过一行代码：`get_fans_by_mid(1850091)`，来获取某人的B站粉丝数。

百闻不如一见。我觉得通过例子，大家可能更加能够感悟出函数的机理。这种**提取变化的部分，封装不变的部分的思想**，很重要，是建立复杂应用程序的基石。

## 条件判断

回到最开始的问题，我想大家应该能猜到无论一开始想的数是多少，最后的结果应该都是520.1314。

我们现在是怎么验证的呢？我们写了段程序，然后通过任意一种方式，"看了一眼"这个输出的值是多少，判断是不是520.1314。

其实判断这个动作计算机也能完成。写法是下面这样的：

``` py
a = love_question(1) # 上面定义过函数，这里代入1进行计算
if a == 520.1314:
  print("好耶")
else:
  print("感觉此生不再悲喜")
```

上面这几行代码，完成的功能很简单，只要你能知道`if`是`如果`的意思，`else`是`否则`的意思，你应该能够凭借流在血液里的程序员之魂（人类本能）看懂这段代码。

如果`a`的值与`520.1314`相等，就打印出`好耶`，否则，打印`感觉此生不再悲喜`。

---

如果你能够融会贯通，你也会觉得上面这段代码复杂，那么你会把它也搞成个函数，我这里稍微修改一下，让这个函数返回判断结果，像下面这样：

``` py
def judge_love_question(x):
  a = love_question(x)
  if a == 520.1314:
    return True
  else:
    return False
```

`True`代表真，`False`代表假。

## 循环

对于程序员而言，我能解决一次问题，我就能解决所有类似的问题。就像只要能够获得一个人的粉丝数，就能获得B站所有人的粉丝数。上述操作可以通过循环来实现。

python，甚至绝大多数语言中有且仅有2种循环，一种叫for循环，一种叫while。for循环可以循环一个**可迭代对象**。不知道可迭代对象没有关系，这个视频里也不会使用for循环。

while循环根据判断来循环。

比如下面这段代码

``` py
n = 0
while n < 10:
  res = judge_love_question(n)
  print(f"输入的数是{n}, 判断结果是{res}")
  n = n + 1
print("执行完毕")
```

`while`的在这里的含义是`只要`。只要后面的判断条件满足，那么就不断执行里面的内容。

最后得到的输出会是这样的:

``` log
输入的数是0, 判断结果是True
输入的数是1, 判断结果是True
输入的数是2, 判断结果是True
输入的数是3, 判断结果是True
输入的数是4, 判断结果是True
输入的数是5, 判断结果是True
输入的数是6, 判断结果是True
输入的数是7, 判断结果是True
输入的数是8, 判断结果是True
输入的数是9, 判断结果是True
执行完毕
```

注意在每次循环的最后一行，我们让n + 1，从而这个循环能够退出。如果不加这一行，判断条件永远不会满足，陷入`死循环`。

---

还有2个单词能控制循环的流程，叫做`break`和`continue`。

`break`可以强行退出循环，而`continue`能强行直接进行下一轮循环。

这里可以稍微利用一下`break`，我们修改一下上面的代码：

``` py
n = 0
while True:
  res = judge_love_question(n)
  print(f"输入的数是{n}, 判断结果是{res}")
  n = n + 1
  if res == False:
    break
```

`while`的判断条件变了，`while True`则永远为真，循环将不会退出，但这不是死循环，因为中间有个判断，只要判断结果是`False`，也就是得到的结果不是`520.1314`则会`break`直接强行退出循环。

## 站在巨人的肩膀上

首先我会告诉你，这个问题结果恒为520.1314是成立的。

但是代码是有Bug的。运行上述代码，你会发现输出如下：

``` log
输入的数是0, 判断结果是True
输入的数是1, 判断结果是True
......(中间省略略)
输入的数是152, 判断结果是True
输入的数是153, 判断结果是False
```

输入153，如果手算，或者使用计算器，答案都应该是520.1314，但是绝大多数我所知的编程语言，会输出错误的结果，Python里，是520.1314000000002。

恭喜你，你遇到了真正的Bug。这不是什么语法错误，而是计算机的机制导致的答案与预期不符。这种问题，难以发现也难以排查，但是不难解决。虽然我希望觉得编程简单，但是如果你真正想学会编程，就一定会遇到这样的问题。

我们遇到的坑叫做精度丢失。简单来说，因为某些复杂的原因，很多小数的值，默认是非精确表示的。因此我们不能直接使用小数。

我们如果知道丢失精度的存在，就可以通过百度搜索找到[解决办法](https://python3-cookbook.readthedocs.io/zh_CN/latest/c03/p02_accurate_decimal_calculations.html)。

只要你能找到解决办法并能看懂它的样例，你就能以此修改自己的代码：

``` py
from decimal import Decimal
def love_question(x):
  y = x + Decimal('52.8')
  y = y * 5
  y = y - Decimal('3.9343')
  y = y * 2
  y = y - x * 10
  return y
```

事实上，这种问题真的很难解决，并且很容易遇上。所以肯定有别人给出了很好的解决方案。这里，最后要和大家讨论的，则是站在巨人的肩膀上。

我们通过`from ... import ...`这样的语法，能够引入别人写好的程序。

`Decimal`这个对象，能够将字符串转换成精确的数值用于计算。

上文的一个获取粉丝数的代码片段中，我们也曾经使用了`import`操作。才使得获取一个人的粉丝数只需短短三行代码。

## 学习路线推荐

我不知道我讲的是否清晰易懂。但如果你看完上面的一切，你就可以开始Python的学习了。上面这些其实算不上什么学习，真正的学习是需要上手去写代码的。

其实学习任何一门新的编程语言其实没有什么挑战性，对于掌握编程的人来说，甚至可以直接上手新的语言，配合文档直接写项目。我一直在思考我和完全不会编程的人究竟有什么不同。想来还是，见得多了，自然知道该怎么找到问题的解决方式。

我其实并不建议看视频学习编程，效率比较低。像这样不过看视频稍微大致了解一下，我觉得是OK的。

如果你想要系统性的学习，你可以看的是官方文档。完全中文，并且非常细致，你所想要知道的一切，上面都有。
